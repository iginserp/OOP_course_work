# Курсовая работа по ООП

## Краткое описание проекта

Выполняет функционал взаимодействия с hh.ru через открытое API
Более детально про API hh.ru можно ознакомится на рессурсе: 
'''
 https://github.com/hhru/api/
'''
Проект состоит из нескольких модулей, где 
в модуле main.py  

    '''
    python main.py
    '''
содержится точка входа, отвечающая за взаимодействие пользователя с функционалом программы, остальные модули напрямую с пользователем не взаимодействуют
и являются вспомогательными, в которых реализован основной функционал. 


В директории /src реализованы дополнительные модули:

- oter_utils.py
- utils_vacancies.py
- utils_api.py
- utils-filework.py

каждый класс и метод содержащаяся в модулях имеет docstring с опиисанием функционала

## Более детальный обзор классов реализованых в модулях

### Модуль oter_utils.py

Содержит класс DataWork 
создающий объект, предназначенный для обрабтки задач касающихся работы с данными. Содержит следующие методы

- make_data_to_json_from_vacancy_object_list
  - Формирует спиисок с данными подходящими для записи в json файл из списка объектов класса Json
- make_vacancy_object
  - Формирует объект класса вакансии из списка полученного чрез API
- sort_vacancies
  - Принимает на вход список объектов класса Vacancy и возвращает список отсортированные по верхнему пределу зарплаты
  
### Модуль utils_api.py

Содержит абстрактный класс AbstractHH с первичной структурой класса:

'''

    @abstractmethod
    def __str__(self):
        pass

    @abstractmethod
    def connection(self):
        pass

    @abstractmethod
    def search_vacancion(self):
        pass
'''

Так же реализован дочерний класс: 
 - HH - класс который взаимодействует с сайтом hh через API

содержит следующие модули:
- __str__
  - Выыодит на печать информацию об объекте класса HH
- connection 
  - Метод отвечающий за взаимодействие с приватным методом __connection
- __connection
  - Метод который реадизует функционал подключения к серверу
- search_vacancion
  - Производит поиск на сайте hh.ru вакансий, которые содержат искомый текст

### Модуль utils-filework.py
Содержит абстракный класс AbsFileWork со следующей структорой
'''

    
    @abstractmethod
    def take_data(self):
        pass

    @abstractmethod
    def write_data(self):
        pass


    @abstractmethod
    def deldata(self):
        pass

'''

на базе которой реализован

- класс FileWork
содержащий следующие методы:

- add_new_vacancy_to_json_file
  - Модуль добавляющий данные по новой вакансии в файл, если данных по этой ваканссии ранее н было добавлено
- deldata
  - Метод для удаления данных в файле
- take_data
  - Метод который отвечает за получение данных из json-файла и возвращает полченные значения
- write_data
  - метод который отвечает за внесение данных в json файл

### Модуль utils_vacancies.py

Содержит абстракный класс AbsFileWork со следующей структорой
'''

    @abstractmethod
    def vacancy_data(self):
        pass


    @abstractmethod
    def __str__(self):
        pass


    @abstractmethod
    def validation_solary_vacancy_from(self):
        pass


    @abstractmethod
    def validation_solary_vacancy_to(self):
        pass


    @abstractmethod
    def compare_jobs(self):
        pass

'''

на базе которой реализован

- класс Vacancies
содержащий следующие методы:

- __str__
  - метод который определяет результат функции print для объекта классса Vacancies
- __sub__
  - Магический метод вычитания двух вакансий
- __validation_solary_vacancy_from
  - Валидирует значение зарплаты указанное в ваканссии по нижнему критерию если данных нет, или они не относится к ччиловому формату - ставит 0, если данные ниже нуля, так же заменяет на 0 значение 
- __validation_solary_vacancy_to
  - Валидирует значение зарплаты по вверхнему пределу если значения нет, оно не ччисловое или меньше нижнего предела возвращает значение нижнего предела
- check_object_class
  - Проверяет принадлежность объекта к классу Вакансии и возбуждает исключение если объект не соответствует классу
- compare_jobs
  - Принимает две объекта класса вакансии и возвращает ту. у которой более высокая максмальная зарплата

## Установка и использование

### Требования к окружению

Для использования программы требуется установить на компьютер python v 3.8 и выше

### Установка проекта

Склонировать репозиторий:

    '''
    git clone https://github.com/KharitonovAM/OOP_coursework
    '''


Создать и активировать виртуальное окружение:

       ```

       poetry shell


       ```
Установить зависимости

       ```

        poetry init

       ```
Запуск проекта

       ```

        poetry run python

       ```

## Документация и ссылки


Ссылки на описания работы функций можно получить используя функцию help 

    '''
    help(name_of_function)
    '''

## Логирование

Все функции залогированы, log файлы находятся в папке logs, настройки логирования реализованы в отдельном модуле по адресу:

    '''
    setting/setting.py
    '''
Позволяет настроить путь сохраненияя информаии, режим перезаписи данных 
Логирование по всему проекту храниться в файле:

    '''
    logs/logfile.txt
    '''

Пример логирования основной работы программы:

    '''
    2025-02-11 22:37:45,394 - INFO- vacancy_modul_log - Старт валидации запрлаты по нижнему значение}
    2025-02-11 22:37:45,394 - INFO- vacancy_modul_log - Валидация запрлаты по нижнему значению проведена, по выходу 100000
    2025-02-11 22:37:45,394 - INFO- vacancy_modul_log - Старт валидации запрлаты по верхнему значению
    2025-02-11 22:37:45,394 - INFO- vacancy_modul_log - Валидация запрлаты по верхнему значению проведена, по выходу 100000
    2025-02-11 22:37:45,394 - INFO- vacancy_modul_log - Завершена инициализация объекта класса Vacancies
    2025-02-11 22:37:45,396 - INFO- vacancy_modul_log - Старт инициализации объекта класса Vacancies c входными данными тестовая вакансия, adress, {'from': 150000, 'to': 300000}, http://myurl.com, daily
    2025-02-11 22:37:45,396 - INFO- vacancy_modul_log - Старт валидации запрлаты по нижнему значение}
    2025-02-11 22:37:45,396 - INFO- vacancy_modul_log - Валидация запрлаты по нижнему значению проведена, по выходу 150000
    2025-02-11 22:37:45,396 - INFO- vacancy_modul_log - Старт валидации запрлаты по верхнему значению
    2025-02-11 22:37:45,396 - INFO- vacancy_modul_log - Валидация запрлаты по верхнему значению проведена, по выходу 300000
    2025-02-11 22:37:45,396 - INFO- vacancy_modul_log - Завершена инициализация объекта класса Vacancies
    
    '''

## Тестирование

Для тестирования работы функций используйте pytest, все функции применяемые для тестирования, находятся в директрии /test

Все функции в программе протестированы на выполнение заданного функционала.
Для автоматическго тестирования использовались фикструры. содержащиеся в файле .conftest.py
Для вызова тестирования можно использовать команды

    '''
    pytest
    pytest --cov
    pytest --cov --cov-report=html
    '''
тесты покрывают приблизительно 94% написанного кода

## Лицензия

Python Software Foundation License (PSFL)